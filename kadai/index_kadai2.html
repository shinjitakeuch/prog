<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>todoapp</title>
    <script src="js/jquery-2.1.3.min.js"></script>
<link rel="stylesheet" href="css/sample_kadai2.css">
</head>
<body>
<main>
    <div class="container" style="display: none;" id=container>
        <input type="text" id=sub class="addTxt" placeholder="Task...">
        <button class="addBtn" id=add >
            <img src="plus.jpg">
        </button>

        <div id=list class="todolist">
        <!-- ここに追加データが挿入される -->
        </div>
    </div>
</main>

<script>
$("#container").slideDown(1500);

// save
$("#add").on("click",function(){
    var value =$("#sub").val();
    // alert("ok");
    localStorage.setItem("memo",value);
    alert("saved");
    const html = "<div class='element' id='add_element'>"+value+"<img id='strike' class='tick' src='check.jpg'><img id='del' class='dustbin' src='trash.jpg'></div>";
    $("#list").append(html);
});

//delete
$("#del").on("click",function(){
    var del =$("#list").val();
    localStorage.removeItem("memo",del);
});

//strike
// $("#strike").on("click",function(){
//     var st = $("#add_element").val();
//     localStorage.setItem("memo",st);
//     alert("ook")
// });
$(function() {
            $('#strike').click(function() {
                if ($(strike).is(":checked")) {
                $(strike).closest(".element").css("text-decoration", "line-through");
                }
                else {
                $(this).closest(".element").css("text-decoration", "none");
                }
            });
        });

//読み込み
//ページ読み込み：保存データ取得表示
for(let i=0; i<localStorage.length; i++){
    const key   = localStorage.key(i);
    const value = localStorage.getItem(key);
    const html = "<div class='element' id='add_element'>" + value+"<img class='tick' src='check.jpg' id='strike'><img class='dustbin' src='trash.jpg' id='del'></div>";
    $("#list").append(html);
}







// $("#add").on("click",function(){
//     const sub= $("#sub").val();
//     localStorage.setItem(sub,);
//     alert("OK");
//     const html = '<tr><th>'+sub+'</th></tr>';
//     $("#list").append(html);
// });

</script>
    
</body>
</html>


